{% extends 'base.html' %}
{% load static %}

{% block nav %} 
<div class="container">
    <nav class="navbar navbar-expand-lg navbar-dark bg-customs">
        <a class="navbar-brand mx-auto" href="/">Task Management</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
    </nav>
</div>
{% endblock %}

{% block content %}
<div class="container">
  <div class="row mt-5">
    <!-- Registration Form Column -->
    <div class="col-md-6">
      <form action="" method="post" novalidate class="bg-custom text-custom p-4">
        {% csrf_token %}
      
        {% if form.non_fields_errors %}
        {% for error in form.non_fields_errors %}
          <p class="er">{{error}}</p>
        {% endfor %}
        {% endif %}
      
        {% for fm in form %}
          <div class="mb-3">
            {{ fm.label_tag }} {{fm}} {{fm.errors|striptags}}
          </div>
        {% endfor %}
        <button type="submit" class="btn btn-primary">Submit</button>
      </form>
      {% if messages %}
        {% for message in messages %}
          <small {% if message.tags %} class="{{message.tags}}" {% endif %}>
            {{message}}
          </small>
        {% endfor %}
      {% endif %}
      <p class="mt-3">Already have an account? <a href="{% url 'accounts:login' %}" class="text-light">Login</a></p>
    </div>
    
    <!-- Image Column -->
    <div class="col-md-6">
      <img src="{% static 'images/task_pic.jpg' %}" alt="Registration Image" class="img-fluid">
    </div>
  </div>
</div>
{% endblock %}

{% block footer %}
{% include 'footer.html' %}
{% endblock %}
